<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Switch Communications Quotation - HM1</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Lato:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Lato', sans-serif;
      background: #f4f4f4;
      padding: 8px;
      font-size: 12px;
    }
    .download-button-container {
      text-align: center;
      margin-bottom: 8px;
      position: sticky;
      top: 0;
      z-index: 100;
      background: #f4f4f4;
      padding: 5px;
    }
    #download-pdf-btn {
      background-color: #d10000;
      color: white;
      border: none;
      padding: 8px 18px;
      border-radius: 5px;
      font-weight: 700;
      cursor: pointer;
      font-size: 12px;
      transition: background-color 0.3s, transform 0.2s;
    }
    #download-pdf-btn:hover {
      background-color: #a30000;
      transform: scale(1.04);
    }
    #download-pdf-btn:disabled {
      background-color: #cccccc;
      cursor: not-allowed;
      transform: none;
    }
    .watermark-logo {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 1;
      opacity: 0.05;
      pointer-events: none;
    }
    .watermark-logo img {
      width: 200px;
      height: auto;
    }
    .quotation-container {
      max-width: 800px;
      margin: 14px auto;
      background: #fff;
      border: 1.5px solid #dcdcdc;
      padding: 12px 12px 12px 12px;
      box-sizing: border-box;
      position: relative;
      z-index: 10;
      min-height: 95vh;
    }
    .header {
      padding: 8px 2px 12px 2px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-bottom: 1px solid #000000;
      flex-wrap: wrap;
    }
    .header-logo img {
      width: 65px;
      height: auto;
      display: block;
    }
    .header-details {
      text-align: right;
    }
    .header-details h1 {
      color: #d10000;
      margin-bottom: 5px;
      font-size: 1.6em;
      font-family: 'Montserrat', sans-serif;
    }
    .header-details p {
      margin: 2px 0;
      font-size: 1em;
    }
    .client-name-placeholder {
      color: #d10000;
      font-weight: 700;
    }
    .date-issue-placeholder {
      color: #222;
      font-weight: 700;
    }
    .packages-section {
      display: flex;
      gap: 10px;
      padding: 10px 3px 5px 3px;
      margin-bottom: 5px;
    }
    .package-card {
      border: 1px solid #dcdcdc;
      flex: 1;
      display: flex;
      flex-direction: column;
      min-width: 0;
      background: #fcfcfc;
      margin: 0;
      border-radius: 9px;
      box-sizing: border-box;
      page-break-inside: avoid;
      break-inside: avoid;
    }
    .package-header {
      padding: 8px 5px;
      font-weight: 700;
      text-align: center;
      border-bottom: 1px solid #dcdcdc;
      background-color: #f9f9f9;
      border-top-left-radius: 9px;
      border-top-right-radius: 9px;
    }
    .package-header h3 {
      font-size: 1em;
      margin: 0;
      color: #000000;
      font-family: 'Montserrat', sans-serif;
      font-weight: bold;
    }
    .package-body {
      padding: 8px 5px 5px 5px;
      flex-grow: 1;
    }
    .services-list {
      list-style: none;
      padding-left: 0;
      display: flex;
      flex-direction: column;
      gap: 2px;
    }
    .services-list li {
      position: relative;
      padding-left: 14px;
      font-size: 0.98em;
      line-height: 1.1;
      border-bottom: 1px solid #eeeeee;
    }
    .services-list li:last-child {
      border-bottom: none;
    }
    .services-list li::before {
      content: "‚Ä¢";
      color: #d10000;
      position: absolute;
      left: 0;
      font-size: 1.1em;
      top: 0;
      line-height: 1.1;
    }
    .package-footer {
      padding: 7px 4px;
      background: #f9f9f9;
      color: #000000;
      text-align: center;
      border-top: 1px solid #dcdcdc;
      font-size: 1em;
      border-bottom-left-radius: 9px;
      border-bottom-right-radius: 9px;
    }
    .total-price {
      font-size: 1em;
      font-weight: 700;
      color: #d10000;
    }
    /* --- Recommended services table --- */
    .recommended-services-table-container {
      margin: 0 0 18px 0;
      padding: 0;
      width: 100%;
      overflow-x: auto;
    }
    .recommended-services-table {
      width: 100%;
      border-collapse: collapse;
      background: #fafafa;
      margin-bottom: 10px;
      table-layout: fixed;
    }
    .recommended-services-table td {
      padding: 7px 4px;
      border-bottom: 1px solid #e0e0e0;
      font-size: 1em;
      vertical-align: top;
    }
    .recommended-services-table tr:last-child td {
      border-bottom: none;
    }
    .recommended-services-title {
      width: 70%;
      text-align: left;
      word-break: break-word;
    }
    .recommended-services-cost {
      text-align: right;
      min-width: 100px;
      font-weight: bold;
      font-family: 'Courier New', Courier, monospace;
      word-break: break-all;
    }
    .extras-label {
      font-style: italic;
      color: #555;
      padding-top: 8px;
    }
    .final-details {
      padding: 10px 5px 5px 5px;
    }
    .final-details h2 {
      color: #000000;
      margin-bottom: 8px;
      font-size: 1.08em;
      border-bottom: 1px solid #cccccc;
      padding-bottom: 4px;
      font-family: 'Montserrat', sans-serif;
    }
    .final-details ul {
      list-style: disc inside;
      margin-bottom: 10px;
      margin-left: 8px;
      padding-left: 0;
      font-size: 0.99em;
    }
    .final-details li {
      padding: 2px 0;
      font-size: 1em;
    }
    .payment-terms-placeholder {
      font-weight: 700;
      color: #d10000;
    }
    .signatures-section {
      padding: 10px 5px;
      background: #f9f9f9;
      page-break-inside: avoid;
      break-inside: avoid;
    }
    .signatures-section h2 {
      margin-bottom: 8px;
      font-size: 1.08em;
      text-align: center;
      font-family: 'Montserrat', sans-serif;
    }
    .signatures-table {
      width: 100%;
      border-collapse: separate;
      border-spacing: 0;
    }
    .signatures-table td {
      padding: 15px 5px;
      text-align: center;
      vertical-align: top;
      width: 50%;
      font-size: 0.93em;
      border: 1px solid #e0e0e0;
      background: #fff;
    }
    .signature-line {
      border-bottom: 2px solid #000000;
      height: 30px;
      margin: 8px 0;
    }
    .signatures-table span {
      font-size: 0.9em;
      color: #555555;
    }
    @media (max-width: 768px) {
      body {
        padding: 5px;
        font-size: 11px;
      }
      .header {
        flex-direction: column;
        text-align: center;
        padding: 8px 0;
      }
      .header-details {
        text-align: center;
        margin-top: 10px;
      }
      .packages-section {
        flex-direction: column;
        gap: 7px;
      }
      .signatures-table td {
        display: block;
        width: 100%;
        padding: 10px 0;
      }
      .quotation-container {
        padding: 3px;
      }
      .final-details, .signatures-section {
        padding: 7px 1px;
      }
    }
    @media print {
      body {
        background: white;
        padding: 0 !important;
        font-size: 11px;
      }
      .download-button-container {
        display: none !important;
      }
      .quotation-container {
        box-shadow: none !important;
        border: 1.5px solid #dcdcdc !important;
        margin: 8px auto !important;
        max-width: 100% !important;
        padding: 0 !important;
      }
      .package-card {
        break-inside: avoid;
      }
      .signatures-section, .signatures-table {
        page-break-inside: avoid;
        break-inside: avoid;
      }
      .recommended-services-table-container {
        page-break-before: always;
      }
    }
  </style>
</head>
<body>
  <div class="download-button-container">
    <button id="download-pdf-btn">üìÑ Download as PDF</button>
  </div>
  <div id="quotation-to-print">
    <div class="watermark-logo">
      <img src="https://i.ibb.co/PsKMnQM9/Switch-Communications-Logo.jpg" alt="Watermark Logo">
    </div>
    <div class="quotation-container">
      <header class="header">
        <div class="header-logo">
          <img src="https://i.ibb.co/PsKMnQM9/Switch-Communications-Logo.jpg" alt="Switch Communications Logo">
        </div>
        <div class="header-details">
          <h1>Quotation</h1>
          <p><strong>Company Name:</strong> Switch Communications</p>
          <p><strong>Client Name:</strong> <span class="client-name-placeholder">{CLIENT_NAME}</span></p>
          <p><strong>Quotation #:</strong> HM1</p>
          <p><strong>Date of Issue:</strong> <span class="date-issue-placeholder">{DATE_OF_ISSUE}</span></p>
        </div>
      </header>
      <main class="packages-section">
        <!-- Platinum Package -->
        <div class="package-card">
          <div class="package-header">
            <h3>ü•á Platinum Package</h3>
          </div>
          <div class="package-body">
            <ul class="services-list">
              <li>Intelligent lighting ‚Äì "Extended Show"</li>
              <li>Outdoor sky search beam ‚Äì "Extended Show"</li>
              <li>Live sound ‚Äì "Indoor & Outdoor Extended range"</li>
              <li>Indoor mini stage</li>
              <li>High tables</li>
              <li>Car presentation</li>
              <li>Car audio production</li>
              <li>Usher</li>
              <li>Organizers</li>
              <li>D√©cor</li>
              <li>Harp musician</li>
              <li>LED screen</li>
              <li>Playback sound</li>
              <li>Outdoor carpet</li>
              <li>Outdoor branding</li>
              <li>Gaming and contests</li>
              <li>Disc jockey</li>
            </ul>
          </div>
          <div class="package-footer">
            <div class="total-price">Total package cost: 220,000 EGP</div>
          </div>
        </div>
        <!-- Premium Package -->
        <div class="package-card">
          <div class="package-header">
            <h3>ü•à Premium Package</h3>
          </div>
          <div class="package-body">
            <ul class="services-list">
              <li>Intelligent lighting ‚Äì "Medium Show"</li>
              <li>Outdoor sky search beam ‚Äì "Medium Show"</li>
              <li>Live sound ‚Äì "Indoor & Outdoor Medium range"</li>
              <li>Indoor mini stage</li>
              <li>High tables</li>
              <li>Car presentation</li>
              <li>Car audio production</li>
              <li>Usher</li>
              <li>Organizers</li>
              <li>LED screen</li>
              <li>Playback sound</li>
              <li>Outdoor carpet</li>
              <li>Outdoor branding</li>
              <li>Gaming and contests</li>
              <li>Disc jockey</li>
            </ul>
          </div>
          <div class="package-footer">
            <div class="total-price">Total package cost: 168,000 EGP</div>
          </div>
        </div>
        <!-- Standard Package -->
        <div class="package-card">
          <div class="package-header">
            <h3>ü•â Standard Package</h3>
          </div>
          <div class="package-body">
            <ul class="services-list">
              <li>Intelligent lighting ‚Äì "Economy Show"</li>
              <li>Play-back sound ‚Äì ‚ÄúIndoor & Outdoor limited range‚Äù</li>
              <li>Car presentation</li>
              <li>Car audio production</li>
              <li>Organizers</li>
              <li>Outdoor carpet</li>
              <li>Outdoor branding</li>
              <li>Gaming and contests</li>
              <li>Disc jockey</li>
            </ul>
          </div>
          <div class="package-footer">
            <div class="total-price">Total package cost: 105,000 EGP</div>
          </div>
        </div>
      </main>
      <!-- Recommended Services (table, on new page if needed) -->
      <div class="recommended-services-table-container">
        <h2>Recommended Services</h2>
        <table class="recommended-services-table">
          <tr>
            <td class="recommended-services-title">Catering upon your request</td>
            <td class="recommended-services-cost">{CATERING_COST}</td>
          </tr>
          <tr>
            <td class="recommended-services-title">Branded entertainment outdoor show</td>
            <td class="recommended-services-cost">{OUTDOOR_SHOW_COST}</td>
          </tr>
          <tr>
            <td class="recommended-services-title extras-label" colspan="2">Any Extras:</td>
          </tr>
          <tr>
            <td class="recommended-services-title">Extra 1</td>
            <td class="recommended-services-cost">{EXTRA_1_COST}</td>
          </tr>
          <tr>
            <td class="recommended-services-title">Extra 2</td>
            <td class="recommended-services-cost">{EXTRA_2_COST}</td>
          </tr>
          <tr>
            <td class="recommended-services-title">Extra 3</td>
            <td class="recommended-services-cost">{EXTRA_3_COST}</td>
          </tr>
        </table>
      </div>
      <section class="final-details">
        <h2>Final Details</h2>
        <ul>
          <li>
            <strong>Payment Terms:</strong>
            <span class="payment-terms-placeholder">{ADVANCE_PERCENTAGE}% in advance - {REMAINING_PERCENTAGE}% on the event day</span>
          </li>
          <li><strong>VAT:</strong> 14%</li>
        </ul>
      </section>
      <footer class="signatures-section">
        <h2>Signatures</h2>
        <table class="signatures-table">
          <tr>
            <td>
              <strong>Client Signature:</strong>
              <div class="signature-line"></div>
              <span>Name & Date</span>
            </td>
            <td>
              <strong>Company Representative Signature:</strong>
              <div class="signature-line"></div>
              <span>Name & Date</span>
            </td>
          </tr>
        </table>
      </footer>
    </div>
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <script>
    document.getElementById('download-pdf-btn').addEventListener('click', function () {
      const button = this;
      const originalText = button.textContent;
      button.textContent = 'Generating PDF...';
      button.disabled = true;

      const element = document.getElementById('quotation-to-print');
      const body = document.body;
      const bodyPrevPadding = body.style.padding;
      body.style.padding = '0';

      const container = element.querySelector('.quotation-container');
      let containerPrevPadding = '';
      if (container) {
        containerPrevPadding = container.style.padding;
        container.style.padding = '0';
      }

      const options = {
        margin: 0.18,
        filename: 'Switch-Communications-Quotation-HM1.pdf',
        image: { type: 'jpeg', quality: 0.98 },
        html2canvas: { scale: 0.97, useCORS: true },
        jsPDF: { unit: 'in', format: 'a4', orientation: 'portrait' }
      };

      html2pdf()
        .from(element)
        .set(options)
        .save()
        .then(() => {
          body.style.padding = bodyPrevPadding;
          if (container) container.style.padding = containerPrevPadding;
          button.textContent = originalText;
          button.disabled = false;
        })
        .catch((error) => {
          console.error('PDF generation failed:', error);
          body.style.padding = bodyPrevPadding;
          if (container) container.style.padding = containerPrevPadding;
          button.textContent = 'Error - Try Again';
          button.disabled = false;
        });
    });
  </script>
</body>
</html>
